*** Settings ***
Library           Selenium2Library
Test Setup        Test Setup Steps
Test Teardown     Close All Browsers
Suite Teardown    Close All Browsers
Force Tags        FunctionalTest
Default Tags      Login


*** Keywords ***
Test Setup Steps
    Set Selenium Speed    0
    Open Browser    ${login address}    ${browser}
    Maximize Browser Window
    Input Text    inputUsername    ${login teacher}
    Input Text    inputPassword    ${password teacher}
    Click Button    Увійти


*** Variables ***
${login address}    http://sms-rv016atqc.rhcloud.com/
${login address-local}    http://127.0.0.1:8000/
${browser}   firefox

${login teacher}    yulia
${password teacher}    Lhkj4Gh

@{subjects}     Українська мова     Українська література
@{classes literature}   9Б клас     9A клас
@{classes language}   8А клас     8Б клас    8В клас     9A клас
@{students8A}     Кулаковський Іван Орестович     Обліпиха Володимир Володимирович     Панасюк Ігор Олександрович     Петрук Тамара Миколаївна     Порох Євген Леонідович     Савчук Олена Петрівна     Сорока Ірина Ігорівна     Степанюк Володимир Григорович     Щеба Андрій Назарович


*** Testcases ***
01. Check, that the page to view classes opened
    [Tags]    PositiveTest     SmokeTest
    Location Should Contain    teacher/subject_group_list

02. Check, that the tabs for subjects exists and shown
    [Tags]    PositiveTest     SmokeTest
    :FOR    ${subject}   IN    @{subjects}
    \   Page Should Contain     ${subject}

03. Check, that the appropriate classes is present on the subjects pages
    [Tags]    PositiveTest
    Click Element   xpath = //a[contains(.,'@{subjects}[1]')]
    :FOR    ${class}    IN    @{classes literature}
    \   Page Should Contain     ${class}
    Click Element   xpath = //a[contains(.,'@{subjects}[0]')]
    :FOR    ${class}    IN    @{classes language}
    \   Page Should Contain     ${class}

04. Check, that the page for class opened
    [Tags]    PositiveTest     SmokeTest   Fail
    Click Element   xpath = //a[contains(.,'@{classes language}[0]')]
    Location Should Contain     class_journal
    Page Should Contain     Класс: 8А Предмет:
    Page Should Contain     @{subjects}[0]

05. Check, that the list of students contains full and exact list for students in the class
    [Tags]    PositiveTest
    Click Element   xpath = //a[contains(.,'@{classes language}[0]')]
    :FOR    ${student}    IN    @{students8A}
    \   Page Should Contain     ${student}

